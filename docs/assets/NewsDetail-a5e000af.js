import{a as b,b as x,r,u as v,A as g,j as s,_ as e}from"./index-83376b2f.js";import{V as I}from"./ViewCounter-f5097ec4.js";import{L as c}from"./LikeDislike-78ebc5c6.js";import{M as j}from"./index-8b6ccae0.js";function A(){const m=b(),{filename:i}=x(),[n,d]=r.useState(""),[a,h]=r.useState({likes:0,dislikes:0,objectId:null}),{t:f,i18n:l}=v();return r.useEffect(()=>{i&&(async()=>{try{const o=l.language==="zh"?"zh":"en",_=Object.assign({"/public/posts/en/apen126171.md":()=>e(()=>import("./apen126171-ce67be70.js"),[]).then(t=>t.default),"/public/posts/en/partDYH.md":()=>e(()=>import("./partDYH-685811aa.js"),[]).then(t=>t.default),"/public/posts/en/post1.md":()=>e(()=>import("./post1-e24d5794.js"),[]).then(t=>t.default),"/public/posts/en/post2.md":()=>e(()=>import("./post2-c4225687.js"),[]).then(t=>t.default),"/public/posts/en/post3.md":()=>e(()=>import("./post3-be63d7e7.js"),[]).then(t=>t.default),"/public/posts/en/post4.md":()=>e(()=>import("./post4-c0d3c85d.js"),[]).then(t=>t.default),"/public/posts/en/post5.md":()=>e(()=>import("./post5-07621455.js"),[]).then(t=>t.default),"/public/posts/en/post6.md":()=>e(()=>import("./post6-219fd695.js"),[]).then(t=>t.default),"/public/posts/en/post7.md":()=>e(()=>import("./post7-64f8a9c3.js"),[]).then(t=>t.default),"/public/posts/en/yu_2025_bipv.md":()=>e(()=>import("./yu_2025_bipv-bdc707ff.js"),[]).then(t=>t.default),"/public/posts/zh/apen126171.md":()=>e(()=>import("./apen126171-d6b4991a.js"),[]).then(t=>t.default),"/public/posts/zh/partDYH.md":()=>e(()=>import("./partDYH-10572027.js"),[]).then(t=>t.default),"/public/posts/zh/post1.md":()=>e(()=>import("./post1-a1c35771.js"),[]).then(t=>t.default),"/public/posts/zh/post2.md":()=>e(()=>import("./post2-a41fbbf3.js"),[]).then(t=>t.default),"/public/posts/zh/post3.md":()=>e(()=>import("./post3-18120430.js"),[]).then(t=>t.default),"/public/posts/zh/post4.md":()=>e(()=>import("./post4-b8e37146.js"),[]).then(t=>t.default),"/public/posts/zh/post5.md":()=>e(()=>import("./post5-346c30ab.js"),[]).then(t=>t.default),"/public/posts/zh/post6.md":()=>e(()=>import("./post6-4cd08cda.js"),[]).then(t=>t.default),"/public/posts/zh/post7.md":()=>e(()=>import("./post7-ace64bb6.js"),[]).then(t=>t.default),"/public/posts/zh/yu_2025_bipv.md":()=>e(()=>import("./yu_2025_bipv-d39f4990.js"),[]).then(t=>t.default)}),u=`/public/posts/${o}/${i}.md`;if(_[u]){const t=await _[u](),E=/^---\s*\n([\s\S]*?)\n---\s*\n?/;d(t.replace(E,""))}else d("# Article Not Found")}catch(o){console.error("Failed to load post content:",o),d("# Article Not Found")}})()},[i,l.language]),r.useEffect(()=>{if(!i)return;const p=new g.Query("Ratings");p.equalTo("itemId",i),p.first().then(o=>{o&&h({likes:o.get("likes")||0,dislikes:o.get("dislikes")||0,objectId:o.id})}).catch(console.error)},[i]),s.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-10",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>m("/news"),className:"flex items-center gap-1 text-sm text-gray-500 hover:text-black bg-transparent border-none cursor-pointer",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),l.language==="zh"?"返回":"Back"]}),s.jsx(I,{itemId:i,increment:!0}),s.jsx(c,{itemId:i,initialLikes:a.likes,initialDislikes:a.dislikes,objectId:a.objectId})]}),n?s.jsx("article",{className:"prose prose-slate max-w-none",children:s.jsx(j,{children:n})}):s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),n&&s.jsxs("div",{className:"mt-10 pt-6 border-t border-gray-200 flex items-center justify-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-500",children:f("你觉得这项研究怎么样？")}),s.jsx(c,{itemId:i,initialLikes:a.likes,initialDislikes:a.dislikes,objectId:a.objectId})]})]})}export{A as default};
